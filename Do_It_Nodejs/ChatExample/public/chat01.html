<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Chat Client 01</title>
        <script src="./jquery-2.1.4.min.js"></script>
        <script src="./socket.io.js"></script>
        <script>
            var host;
            var port;
            var socket;

            $(function() {          // when document loading
                $("#connectionButton").bind('click', function(event) {
                    println('connectionButton is clicked.');
                    host = $("#hostInput").val();
                    port = $("#portInput").val();

                    connectToServer();
                });
            });

            function connectToServer() {
                var options = { "froceNew": true };
                var url = 'http://' + host+":"+port;
                socket = io.connect(url, options);
                
                socket.on('connect', function() {
                    println("WebSocket is connected. : " + url);
                });

                socket.on('disconnect', function(){
                    println("WebSocket is disconnected.");
                });

            }

            function println(data) {
                console.log(data);
                $("#result").append("<p>"+data+"</p>");
            }
        </script>

    </head>
    <body>
        <h3>Chat client 01</h3>
        <br>
        <div>
            <input type="text" id="hostInput" value="localhost">
            <input type="text" id="portInput" value="3000">
            <input type="button" id = "connectionButton" value="Connect">
        </div>

        <hr/>
        <p>Result:</p>
        <div id="result"></div>
    </body>
</html>